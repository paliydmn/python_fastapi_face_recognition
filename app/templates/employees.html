{% extends "base.html" %}

{% block title %}Employee Management{% endblock %}

{% block content %}
<h1>Employee Management</h1>

<h2>Add New Employee</h2>
<form id="addEmployeeForm" action="/employees/add" method="post" enctype="multipart/form-data">
    <h3 style="text-align: center;"> New employee. <br> Please enter:</h3>
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" required>
    <br>
    <label for="photo">Photo:</label>
    <input type="file" id="photo" name="photo" accept="image/*" required>
    <br>
    <button type="submit">Add Employee</button>
</form>

{% if msg %}
<p>{{ msg }}</p>
{% endif %}

<h2>Employee List</h2>
<button id="show-employees-button">Show Employees</button>
<div id="employee-list" style="display: none;"></div>

<script src="/static/js/employees.js"></script>


<!-- <script>
// document.getElementById('show-employees-button').addEventListener('click', function() {
//     var employeeList = document.getElementById('employee-list');
//     if (employeeList.style.display === 'none') {
//         fetch('/employees/list')
//             .then(response => response.json())
//             .then(data => {
//                 employeeList.innerHTML = '';
//                 data.employees.forEach(employee => {
//                     var employeeDiv = document.createElement('div');
//                     employeeDiv.classList.add('employee-profile');
//                     employeeDiv.innerHTML = `
//                         <h3>${employee.name} (ID: ${employee.id})</h3>
//                         <img class="employee_profile" src="${employee.photo_path}" alt="${employee.name}" >
//                         <h4>Work Hours:</h4>
//                         <ul>
//                             ${employee.work_hours.map(wh => `<li>${wh.date}: ${wh.hours_worked}</li>`).join('')}
//                         </ul>
//                         <button class="delete-button" data-id="${employee.id}">Delete</button>
//                     `;
//                     employeeList.appendChild(employeeDiv);
//                 });
//                 employeeList.style.display = 'block';

//                 // Add event listeners to delete buttons
//                 document.querySelectorAll('.delete-button').forEach(button => {
//                     button.addEventListener('click', function() {
//                         var employeeId = this.getAttribute('data-id');
//                         fetch('/employees/delete', {
//                             method: 'POST',
//                             headers: {
//                                 'Content-Type': 'application/x-www-form-urlencoded',
//                             },
//                             body: new URLSearchParams({ 'employee_id': employeeId }),
//                         })
//                         .then(response => response.json())
//                         .then(data => {
//                             if (data.status === 'success') {
//                                 // Remove the employee div
//                                 this.parentElement.remove();
//                             } else {
//                                 alert(data.message);
//                             }
//                         });
//                     });
//                 });
//             });
//     } else {
//         employeeList.style.display = 'none';
//     }
// });
</script> -->
{% endblock %}
